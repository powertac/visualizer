<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:p="http://www.springframework.org/schema/p"
       xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
                      http://www.springframework.org/schema/beans/spring-beans-3.1.xsd
	                    http://www.springframework.org/schema/context
	                    http://www.springframework.org/schema/context/spring-context.xsd">
  <bean id="visualizerApplicationContext" class="org.powertac.visualizer.VisualizerApplicationContext"/>

  <bean id="imageBean" class="org.powertac.visualizer.beans.ImageBean">
    <property name="logoPath"
              value="/app/resources/resources/images/powertac-banner-powerman.png" />
    <property name="offeredTarrifPath" value="/app/resources/resources/images/offered_tarrif.png"/>
    <property name="moneyPath" value="/app/resources/resources/images/money_icon.png"/>
  </bean>

  <!-- A connection to ActiveMQ -->
  <bean id="amqConnectionFactory" class="org.apache.activemq.ActiveMQConnectionFactory"
        p:brokerURL="tcp://localhost:61616" />

  <!-- A cached connection to wrap the ActiveMQ connection -->
  <bean id="jmsFactory" class="org.springframework.jms.connection.CachingConnectionFactory"
        p:targetConnectionFactory-ref="amqConnectionFactory"
        p:sessionCacheSize="10" />

  <!-- A JmsTemplate instance that uses the cached connection and destination -->
  <bean id="jmsTemplate" class="org.springframework.jms.core.JmsTemplate"
        p:connectionFactory-ref="jmsFactory" />

  <bean id="taskExecutor" class="org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor" p:corePoolSize="5" p:maxPoolSize="25"/>

  <bean id="appearanceListBean" class="org.powertac.visualizer.beans.AppearanceListBean">
    <constructor-arg name="appereanceList">
      <list>
        <bean class="org.powertac.visualizer.domain.Appearance">
          <constructor-arg name="colorCode" value="#163eef" />
          <constructor-arg name="iconLocation" value="/app/resources/resources/images/brokers/163eef.png" />
        </bean>
        <bean class="org.powertac.visualizer.domain.Appearance">
          <constructor-arg name="colorCode" value="#060606" />
          <constructor-arg name="iconLocation" value="/app/resources/resources/images/brokers/060606.png" />
        </bean>
        <bean class="org.powertac.visualizer.domain.Appearance">
          <constructor-arg name="colorCode" value="#ff0000" />
          <constructor-arg name="iconLocation" value="/app/resources/resources/images/brokers/ff0000.png" />
        </bean>
        <bean class="org.powertac.visualizer.domain.Appearance">
          <constructor-arg name="colorCode" value="#ff00ff" />
          <constructor-arg name="iconLocation" value="/app/resources/resources/images/brokers/ff00ff.png" />
        </bean>
        <bean class="org.powertac.visualizer.domain.Appearance">
          <constructor-arg name="colorCode" value="#ffff00" />
          <constructor-arg name="iconLocation" value="/app/resources/resources/images/brokers/ffff00.png" />
        </bean>
        <bean class="org.powertac.visualizer.domain.Appearance">
          <constructor-arg name="colorCode" value="#ff9933" />
          <constructor-arg name="iconLocation" value="/app/resources/resources/images/brokers/ff9933.png" />
        </bean>
        <bean class="org.powertac.visualizer.domain.Appearance">
          <constructor-arg name="colorCode" value="#87b5bd" />
          <constructor-arg name="iconLocation" value="/app/resources/resources/images/brokers/87b5bd.png" />
        </bean>
        <bean class="org.powertac.visualizer.domain.Appearance">
          <constructor-arg name="colorCode" value="#23811c" />
          <constructor-arg name="iconLocation" value="/app/resources/resources/images/brokers/23811c.png" />
        </bean>

        <bean class="org.powertac.visualizer.domain.Appearance">
          <constructor-arg name="colorCode" value="#671731" />
          <constructor-arg name="iconLocation" value="/app/resources/resources/images/brokers/671731.png" />
        </bean>

        <bean class="org.powertac.visualizer.domain.Appearance">
          <constructor-arg name="colorCode" value="#b2b2b2" />
          <constructor-arg name="iconLocation" value="/app/resources/resources/images/brokers/b2b2b2.png" />
        </bean>
      </list>
    </constructor-arg>
    <constructor-arg name="defaultAppearance">
      <bean class="org.powertac.visualizer.domain.Appearance">
        <constructor-arg name="colorCode" value="#30ea17" />
        <constructor-arg name="iconLocation" value="/app/resources/resources/images/brokers/default_30ea17.png" />
      </bean>
    </constructor-arg>
  </bean>

  <!-- ......USER SESSION BEANS:..................... -->
  <bean id="customerService"
        class="org.powertac.visualizer.services.CustomerService"/>
  <bean id="wholesaleService"
        class="org.powertac.visualizer.services.WholesaleService"/>
  <bean id="gencoService"
        class="org.powertac.visualizer.services.GencoService"/>
  <bean id="selectedBrokerChartsBean" class="org.powertac.visualizer.user.SelectedBrokerChartsBean" scope="session"/>
  <bean id="wholesaleBean"
        class="org.powertac.visualizer.user.WholesaleBean"
        scope="session">
    <constructor-arg ref="wholesaleService"/>
  </bean>
  <bean id="gencosBean"
        class="org.powertac.visualizer.user.GencosBean"
        scope="request">
    <constructor-arg ref="gencoService"/>
  </bean>
  <bean id="brokersBean" class="org.powertac.visualizer.user.BrokersBean" scope="session"/>
  <bean id="customersBean" class="org.powertac.visualizer.user.CustomersBean"
        scope="request">
    <constructor-arg ref="customerService"/>
    <constructor-arg ref="userSessionBean"/>
  </bean>
  <bean id="userSessionBean" class="org.powertac.visualizer.user.UserSessionBean" scope="session"/>
</beans>